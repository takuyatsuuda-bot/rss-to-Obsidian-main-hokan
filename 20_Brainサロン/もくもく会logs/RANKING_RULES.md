# もくもく会ランキング更新ルール

## 概要
毎日のもくもく会ログ（`YYYY-MM-DD.md`）を集計し、月間の累計ランキング（`00_MM月ランキング.md`）を自動更新するためのルールです。

## フォルダ構成
```
20_Brainサロン/
  ├── もくもく会logs/
  │   ├── 2026-01/
  │   ├── 2026-02/
  │   │   ├── 00_2月ランキング.md  <-- 出力ファイル
  │   │   ├── 2026-02-01.md
  │   │   ├── 2026-02-02.md
  │   │   └── ...
  │   └── RANKING_RULES.md       <-- このファイル
  └── scripts/
      └── update_monthly_ranking.py <-- 自動集計スクリプト
```

## 更新手順
AIに対して以下の指示を行うことで、自動的にその月の最新データを反映してランキングを更新します。

### 指示プロンプト例
```
ランキングを更新してください。
```
または
```
昨日の分の日報を追加したので、2月のランキングを更新して。
```

## 自動処理の内容
1. **対象月の特定**:
   - 指示がない場合は「現在の月」または「最新のログがある月」を対象とします。
   - 明示的に「1月」などが指定された場合はその月を対象とします。

2. **ログの読み込み**:
   - 対象月のフォルダ（例: `2026-02/`）内にある `YYYY-MM-DD.md` 形式のファイルを全て読み込みます。
   - 日付順にデータを処理します。

3. **集計ロジック**:
   - **累計時間**: 各ユーザーの参加時間を合計します。
   - **前日差**: 最新の日付（およそ「昨日」）の参加時間を `+H:MM:SS` 形式で表示します。
   - **順位変動**: 「最新の日付を含めた順位」と「それより前の日付までの順位」を比較し、変動（⬆️ 2, ⬇️ 1, ➡️, 🆕）を表示します。

4. **出力**:
   - 同じフォルダ内の `00_MM月ランキング.md` を上書き更新します。

## スクリプト実行コマンド（参考）
手動で実行する場合:
```bash
# 今月のランキングを更新（デフォルト動作）
python3 "20_Brainサロン/scripts/update_monthly_ranking.py"

# 特定の月を指定して更新する場合
python3 "20_Brainサロン/scripts/update_monthly_ranking.py" --month 2026-01
```
